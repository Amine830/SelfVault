# =============================================================================
# SelfVault - Supabase Provider Configuration
# =============================================================================
# Use this template when deploying with Supabase (Auth + Storage + Database)
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Get these from your Supabase project: Settings > API
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Get these from Supabase: Settings > Database > Connection string
# Use the "Transaction" pooler URL for DATABASE_URL (port 6543)
DATABASE_URL="postgresql://postgres.your-project-ref:your-password@aws-0-eu-west-3.pooler.supabase.com:6543/postgres?pgbouncer=true"
# Use the "Session" pooler or direct URL for DIRECT_URL (port 5432)
DIRECT_URL="postgresql://postgres.your-project-ref:your-password@aws-0-eu-west-3.pooler.supabase.com:5432/postgres"

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
PORT=8080
NODE_ENV=development
# Generate with: openssl rand -base64 64
JWT_SECRET=your-very-long-and-secure-jwt-secret-key

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
STORAGE_PROVIDER=supabase

# -----------------------------------------------------------------------------
# Upload Limits
# -----------------------------------------------------------------------------
# 10MB max upload size (default)
MAX_UPLOAD_SIZE_BYTES=10485760
# 1GB max storage per user (default)
MAX_STORAGE_PER_USER_BYTES=1073741824

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
