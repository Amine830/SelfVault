# =============================================================================
# SelfVault - MinIO/S3 Provider Configuration
# =============================================================================
# Use this template when deploying with MinIO or any S3-compatible storage
# Ideal for fully self-hosted deployments
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Local PostgreSQL or external PostgreSQL server
DATABASE_URL="postgresql://selfvault:your-password@localhost:5432/selfvault"
DIRECT_URL="postgresql://selfvault:your-password@localhost:5432/selfvault"

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
PORT=8080
NODE_ENV=production
# Generate with: openssl rand -base64 64
JWT_SECRET=your-very-long-and-secure-jwt-secret-key

# -----------------------------------------------------------------------------
# Storage Configuration (REQUIRED)
# -----------------------------------------------------------------------------
STORAGE_PROVIDER=s3

# S3/MinIO Settings
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=selfvault
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=your-minio-secret-password
# Required for MinIO, optional for AWS S3
S3_FORCE_PATH_STYLE=true

# -----------------------------------------------------------------------------
# Supabase Auth (REQUIRED for authentication)
# -----------------------------------------------------------------------------
# Even with MinIO storage, you still need Supabase for authentication
# Or implement your own auth endpoints (see issue #9)
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# -----------------------------------------------------------------------------
# Upload Limits
# -----------------------------------------------------------------------------
# 50MB max upload size
MAX_UPLOAD_SIZE_BYTES=52428800
# 5GB max storage per user
MAX_STORAGE_PER_USER_BYTES=5368709120

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost,http://your-domain.com,https://your-domain.com

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
